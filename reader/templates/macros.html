
{% macro feed_link(feed) -%}
{%- if feed.link %}<a href="{{ feed.link }}">{%- endif -%}
{{ feed_title(feed) }}
{%- if feed.link %}</a>{% endif -%}
{%- endmacro %}

{% macro feed_title(feed) %}
{%- if feed.user_title and feed.user_title.strip() -%}
    {{ feed.user_title }}
{%- elif feed.title and feed.title.strip() -%}
    {{ feed.title }}
{%- else -%}
    {{ feed.url }}
{%- endif -%}
{% endmacro %}


{% macro text_input_button(action, label, name, placeholder, leave_disabled=false) -%}
<li class="collapsible"{% if caller is defined %} data-callback="function callback(data) {

{{ caller() | forceescape }}

}; callback"{% endif %} data-leave-disabled="{{ 'true' if leave_disabled else 'false' }}">
    <span class="label">{{ label }}</span>
    <span class="hidden">
        <input type="text" name="{{ name }}" placeholder="{{ placeholder }}">
        <button type="submit" name="action" value="{{ action }}">{{ label }}</button>
    </span>
{%- endmacro %}


{% macro confirm_button(action, label, id=none, leave_disabled=false) -%}
<li class="collapsible"{% if caller is defined %} data-callback="function callback(data) {

{{ caller() | forceescape }}

}; callback"{% endif %} data-leave-disabled="{{ 'true' if leave_disabled else 'false' }}">
    <span class="label">{{ label }}</span>
    <span class="hidden">
        <input type="checkbox" id="really-{{ action }}{% if id is not none %}-{{ id }}{% endif %}" name="really-{{ action }}" value="really">
        <label for="really-{{ action }}{% if id %}-{{ id }}{% endif %}">I really want to</label>
        <button type="submit" name="action" value="{{ action }}">{{ label }}</button>
    </span>
{%- endmacro %}


{% macro simple_button(action, label, leave_disabled=false) -%}
<li class="simple-button"{% if caller is defined %} data-callback="function callback(data) {

{{ caller() | forceescape }}

}; callback"{% endif %} data-leave-disabled="{{ 'true' if leave_disabled else 'false' }}">
    <button type="submit" name="action" value="{{ action }}">{{ label }}</button>
{%- endmacro %}





